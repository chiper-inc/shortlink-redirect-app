"use strict";
var __rest = (this && this.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.TextArea = void 0;
const jsx_runtime_1 = require("react/jsx-runtime");
const react_1 = require("react");
/**
 * `TextArea` allows user to enter text into UI. It usually appears in products description
 * or justify coments
 *
 * #### Usage:
 *
 * ```tsx
  import { useState, ChangeEvent } from "react";
  import { TextArea } from "@chiper-inc/sb-web-chiper";

  const [value, setValue] = useState("");

  const handleChange = (e: ChangeEvent<HTMLTextAreaElement>) => {
    setValue(e.target.value);
  };

  const handleNoNumbers = () => {
    if (!!value && /^\d*$/.test(value)) return true;
    return false;
  };

  return (
    <TextArea
      label="Escriba su comentario"
      name="coment"
      placeholder="Escriba su comentario"
      helperText="No se puede numeros"
      value={value}
      height="180px"
      onChange={(e) => onChangeValue(e)}
      isValid={handleError()}
      maxCharacters={720}
    />
  );
 * ```
 *
 * #### Demo:
 */
exports.TextArea = (0, react_1.forwardRef)((_a, ref) => {
    var { isValid = true, name, value, disabled, onChange = () => true, helperText = "", placeholder = "", maxCharacters, height = "250px", "data-testid": testID = "chiper-text-area-field" } = _a, rest = __rest(_a, ["isValid", "name", "value", "disabled", "onChange", "helperText", "placeholder", "maxCharacters", "height", "data-testid"]);
    const handleInputChange = (e) => {
        if (!maxCharacters || e.target.value.length <= maxCharacters)
            onChange(e);
    };
    const empty = value === "";
    return ((0, jsx_runtime_1.jsxs)("div", Object.assign({ className: "sbw-flex sbw-w-full sbw-flex-col", style: { height } }, { children: [(0, jsx_runtime_1.jsxs)("div", Object.assign({ className: `
          sbw-group
          sbw-relative
          sbw-flex
          sbw-h-full
          sbw-flex-col
          sbw-justify-center
          sbw-overflow-hidden
          sbw-rounded
          sbw-border
          sbw-border-greyscale-gray60
          sbw-bg-white
          sbw-p-4
          sbw-transition
          sbw-duration-300
          focus-within:sbw-border-primary-yankeesBlue
          ${!isValid ? "sbw-border-primary-chiperBrandRed focus-within:sbw-border-primary-chiperBrandRed" : ""}
          ${disabled ? "sbw-bg-greyscale-gray25" : ""}
        ` }, { children: [(0, jsx_runtime_1.jsx)("label", Object.assign({ "data-testid": "testPlaceholder", "aria-label": placeholder, htmlFor: name, className: `${disabled ? "sbw-text-greyscale-gray200" : "sbw-text-primary-darkBlueGray"}
            ${empty
                            ? "sbw-top-[17px] sbw-text-xs sbw-leading-normal"
                            : "sbw-top-[4px] sbw-text-[10px] sbw-leading-5"}
            sbw-absolute
            sbw-left-[16px]
            sbw-text-left
            sbw-transition-all
            sbw-ease-in-out
            sbw-line-clamp-1
            group-focus-within:sbw-top-[4px]
            group-focus-within:sbw-text-[10px]
            group-focus-within:sbw-leading-5
          ` }, { children: placeholder })), (0, jsx_runtime_1.jsx)("textarea", Object.assign({ ref: ref, "data-testid": testID, name: name, id: name, value: value, onChange: handleInputChange, disabled: disabled, autoComplete: "off", className: `
            sbw-flex-1
            sbw-resize-none
            sbw-overflow-auto
            sbw-border-none
            sbw-bg-transparent
            sbw-pt-1
            sbw-text-left
            sbw-text-xs
            sbw-leading-5
            sbw-shadow-none
            focus:sbw-outline-none
          ` }, rest))] })), (0, jsx_runtime_1.jsxs)("div", Object.assign({ className: "sbw-flex sbw-justify-between" }, { children: [!!helperText && ((0, jsx_runtime_1.jsx)("p", Object.assign({ className: `
              sbw-mt-1
              sbw-ml-4
              sbw-flex
              sbw-text-xs
              sbw-leading-4
              ${(!isValid && !disabled) ? "sbw-text-primary-chiperBrandRed" : "sbw-text-greyscale-gray200"}
            ` }, { children: helperText }))), !!maxCharacters && ((0, jsx_runtime_1.jsxs)("span", Object.assign({ className: "\n            sbw-mt-1\n            sbw-mr-4\n            sbw-justify-self-end\n            sbw-text-xs\n            sbw-font-bold\n            sbw-leading-4\n            sbw-text-gray-200\n          " }, { children: [(value === null || value === void 0 ? void 0 : value.length) || "0", "/", maxCharacters] })))] }))] })));
});
