"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.ModalElement = void 0;
const jsx_runtime_1 = require("react/jsx-runtime");
const react_1 = require("react");
const Typography_1 = require("../../Theme/Typography");
const useOnClickOutside_1 = __importDefault(require("./useOnClickOutside"));
const props_1 = require("./props");
const Icon_1 = require("../../Theme/Icon");
function ModalElement({ children, show, setShow, config = {}, title, }) {
    const modalRef = (0, react_1.useRef)(null);
    const handleClickOutside = () => setShow(false);
    (0, useOnClickOutside_1.default)(modalRef, handleClickOutside);
    const { positionX = "center", positionY = "center", width = "md", height = "auto", showOverlay = true, } = config;
    return ((0, jsx_runtime_1.jsx)("div", Object.assign({ "data-testid": "component-modal-overlay", className: `
        sbw-fixed
        sbw-top-0
        sbw-left-0
        sbw-z-[9999]
        sbw-flex
        sbw-h-screen
        sbw-w-screen
        ${showOverlay ? "sbw-bg-opacity-80" : "sbw-bg-opacity-0"}
        ${props_1.modalPositionX[positionX]}
        ${props_1.modalPositionY[positionY]}
        ${showOverlay ? "sbw-bg-black" : "sbw-bg-transparent"}
        ${height === "full" && width === "full" ? "sbw-p-0" : "sbw-p-4"}
      ` }, { children: (0, jsx_runtime_1.jsxs)("div", Object.assign({ "data-testid": "component-modal", ref: modalRef, className: `
          ${props_1.modalHeight[height]}
          ${props_1.modalWidth[width]}
          sbw-relative
          sbw-max-h-full
          sbw-max-w-full
          sbw-overflow-auto
          sbw-rounded
          sbw-bg-white
          sbw-p-6
        ` }, { children: [(0, jsx_runtime_1.jsxs)("div", Object.assign({ "data-testid": "modal-header" }, { children: [(0, jsx_runtime_1.jsx)(Typography_1.Typography, Object.assign({ variant: "h3", bold: true }, { children: title })), (0, jsx_runtime_1.jsx)("div", Object.assign({ className: "sbw-absolute sbw-top-4 sbw-right-4 sbw-h-6 sbw-w-6" }, { children: (0, jsx_runtime_1.jsx)("button", Object.assign({ "data-testid": "close-button-modal", type: "button", onClick: () => setShow(!show), className: "\n                sbw-fixed\n                sbw-inline-flex\n                sbw-whitespace-nowrap\n                sbw-bg-transparent\n                sbw-p-1\n                hover:sbw-opacity-50\n              " }, { children: (0, jsx_runtime_1.jsx)(Icon_1.Icon, { name: "X", size: 16 }) })) }))] })), (0, jsx_runtime_1.jsx)("div", Object.assign({ "data-testid": "component-modal-content", className: `${title ? "sbw-mt-4" : ""} sbw-flex sbw-flex-col sbw-items-center` }, { children: children }))] })) })));
}
exports.ModalElement = ModalElement;
