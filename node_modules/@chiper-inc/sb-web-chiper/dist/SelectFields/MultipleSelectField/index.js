"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.MultipleSelectField = void 0;
const jsx_runtime_1 = require("react/jsx-runtime");
const react_1 = require("react");
const DropdownBox_1 = require("../Dropdowns/DropdownBox");
const MultipleDropdown_1 = require("../MultipleDropdown");
/**
 * A `MultipleSelectField` is a field that allows user to select multiple options
 *
 * #### Interface:
 *
 * ```tsx
  interface ISelectOption {
    text: string;
    value: string;
  }
   ```
 *
 * #### Usage:
 *
 * ```tsx
  import { useState } from "react";
  import { MultipleSelectField } from "@chiper-inc/sb-web-chiper";

  const [selectedValues, setSelectedValues] = useState<string[]>([]);

  const handleClick = useCallback((itemValue: string) => {
    setSelectedValues((prev) => (prev.includes(itemValue)
      ? prev.filter((i) => i !== itemValue)
      : [...prev, itemValue]));
  }, []);

  return (
    <MultipleSelectField
      value={value}
      options=[
        {
          text: "option one",
          value: "1"
        },
        {
          text:"option two",
          value: "2"
        }
      ]
      onOptionClick={handleClick}
     />
  );
 * ```
 *
 * #### Demo:
 *
 */
exports.MultipleSelectField = (0, react_1.memo)(({ onOptionClick, icon, placeholder, disabled, values = [], helperText, isValid = true, full, name, options, "data-testid": testID = "chiper-multiple-select-field", maxDropdownHeight = "180px", }) => {
    const [isOpened, setIsOpened] = (0, react_1.useState)(false);
    const onItemClick = (0, react_1.useCallback)((itemSelected) => {
        onOptionClick(itemSelected, name);
    }, [name, onOptionClick]);
    return ((0, jsx_runtime_1.jsx)(DropdownBox_1.DropdownBox, { value: values.length ? placeholder : "", placeholder: !values.length ? placeholder : "", "data-testid": testID, disabled: disabled, full: full, helperText: helperText, isValid: isValid, icon: icon, isOpened: isOpened, setIsOpened: setIsOpened, hasPlaceholderFixed: true, dropdown: ((0, jsx_runtime_1.jsx)("div", Object.assign({ className: "sbw-pt-2" }, { children: (0, jsx_runtime_1.jsx)(MultipleDropdown_1.MultipleDropdown, { items: options, onItemClick: onItemClick, selectedValues: values, width: "full", maxHeight: maxDropdownHeight }) }))) }));
});
