"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.DragItem = void 0;
const jsx_runtime_1 = require("react/jsx-runtime");
const sortable_1 = require("@dnd-kit/sortable");
const utilities_1 = require("@dnd-kit/utilities");
function DragItem({ id, children, className = "", dragHandler = false, testID = "dragdropitem", }) {
    const { attributes, listeners, setNodeRef, transform, transition, isDragging, } = (0, sortable_1.useSortable)({ id });
    const style = {
        transform: utilities_1.CSS.Transform.toString(transform),
        transition,
    };
    if (dragHandler) {
        return ((0, jsx_runtime_1.jsx)("div", Object.assign({ ref: setNodeRef, style: style, "data-testid": testID, className: `
          ${typeof className === "function" ? className(isDragging) : className}
        ` }, { children: typeof children === "function"
                ? children({ isDragging, draggable: Object.assign(Object.assign({}, attributes), listeners) })
                : children })));
    }
    return ((0, jsx_runtime_1.jsx)("div", Object.assign({ ref: setNodeRef, style: style }, attributes, listeners, { "data-testid": testID, className: `
        ${isDragging ? "sbw-z-50 sbw-cursor-grabbing" : "sbw-cursor-grab"}
        ${typeof className === "function" ? className(isDragging) : className}
      ` }, { children: typeof children === "function"
            ? children({ isDragging })
            : children })));
}
exports.DragItem = DragItem;
